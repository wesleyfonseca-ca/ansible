[julio.mauro@nb-corp - ~/Dropbox/GIT/juliomauro/CentosJM-ansible @01:53:02] 
1:> ansible-playbook -i hosts_lab main.yml -l lab

PLAY [all] ***************************************************************************************************************************************************

TASK [Gathering Facts] ***************************************************************************************************************************************
ok: [192.168.122.6]
ok: [192.168.122.118]
ok: [192.168.122.8]
ok: [192.168.122.207]

TASK [update : Verificando a existencia de atualizacoes para o sistema] **************************************************************************************
changed: [192.168.122.6]
changed: [192.168.122.118]
changed: [192.168.122.207]
changed: [192.168.122.8]

TASK [update : Atualizacoes pendentes] ***********************************************************************************************************************
ok: [192.168.122.207] => {
    "msg": "Found 162 packages to be updated:\n\nGeoIP.x86_64\nNetworkManager.x86_64\nNetworkManager-libnm.x86_64\nNetworkManager-team.x86_64\nNetworkManager-tui.x86_64\nNetworkManager-wifi.x86_64\nalsa-lib.x86_64\naudit.x86_64\naudit-libs.x86_64\nbash.x86_64\nbind-libs-lite.x86_64\nbind-license.noarch\nbinutils.x86_64\nbiosdevname.x86_64\ncentos-release.x86_64\nchrony.x86_64\ncoreutils.x86_64\ncronie.x86_64\ncronie-anacron.x86_64\ncryptsetup-libs.x86_64\ncurl.x86_64\ndevice-mapper.x86_64\ndevice-mapper-event.x86_64\ndevice-mapper-event-libs.x86_64\ndevice-mapper-libs.x86_64\ndevice-mapper-persistent-data.x86_64\ndhclient.x86_64\ndhcp-common.x86_64\ndhcp-libs.x86_64\ndiffutils.x86_64\ndmidecode.x86_64\ndracut.x86_64\ndracut-config-rescue.x86_64\ndracut-network.x86_64\ne2fsprogs.x86_64\ne2fsprogs-libs.x86_64\nelfutils-default-yama-scope.noarch\nelfutils-libelf.x86_64\nelfutils-libs.x86_64\nethtool.x86_64\nfirewalld.noarch\nfirewalld-filesystem.noarch\nfreetype.x86_64\nglib2.x86_64\nglibc.x86_64\nglibc-common.x86_64\ngrub2.x86_64\ngrub2-common.noarch\ngrub2-pc.x86_64\ngrub2-pc-modules.noarch\ngrub2-tools.x86_64\ngrub2-tools-extra.x86_64\ngrub2-tools-minimal.x86_64\ngrubby.x86_64\nhwdata.x86_64\ninitscripts.x86_64\niproute.x86_64\niprutils.x86_64\nipset.x86_64\nipset-libs.x86_64\niptables.x86_64\nirqbalance.x86_64\niwl100-firmware.noarch\niwl1000-firmware.noarch\niwl105-firmware.noarch\niwl135-firmware.noarch\niwl2000-firmware.noarch\niwl2030-firmware.noarch\niwl3160-firmware.noarch\niwl3945-firmware.noarch\niwl4965-firmware.noarch\niwl5000-firmware.noarch\niwl5150-firmware.noarch\niwl6000-firmware.noarch\niwl6000g2a-firmware.noarch\niwl6000g2b-firmware.noarch\niwl6050-firmware.noarch\niwl7260-firmware.noarch\niwl7265-firmware.noarch\nkernel.x86_64\nkernel-tools.x86_64\nkernel-tools-libs.x86_64\nkexec-tools.x86_64\nkmod.x86_64\nkmod-libs.x86_64\nkpartx.x86_64\nkrb5-libs.x86_64\nlibblkid.x86_64\nlibcap.x86_64\nlibcom_err.x86_64\nlibcurl.x86_64\nlibdb.x86_64\nlibdb-utils.x86_64\nlibdrm.x86_64\nlibgcc.x86_64\nlibgomp.x86_64\nlibmount.x86_64\nlibndp.x86_64\nlibsmartcols.x86_64\nlibss.x86_64\nlibssh2.x86_64\nlibstdc++.x86_64\nlibteam.x86_64\nlibuuid.x86_64\nlinux-firmware.noarch\nlvm2.x86_64\nlvm2-libs.x86_64\nlz4.x86_64\nmake.x86_64\nmariadb-libs.x86_64\nmicrocode_ctl.x86_64\nnspr.x86_64\nnss.x86_64\nnss-pem.x86_64\nnss-softokn.x86_64\nnss-softokn-freebl.x86_64\nnss-sysinit.x86_64\nnss-tools.x86_64\nnss-util.x86_64\nnumactl-libs.x86_64\nopenssh.x86_64\nopenssh-clients.x86_64\nopenssh-server.x86_64\nopenssl.x86_64\nopenssl-libs.x86_64\nparted.x86_64\npasswd.x86_64\nplymouth.x86_64\nplymouth-core-libs.x86_64\nplymouth-scripts.x86_64\npolicycoreutils.x86_64\npolkit.x86_64\nprocps-ng.x86_64\npython.x86_64\npython-chardet.noarch\npython-firewall.noarch\npython-libs.x86_64\npython-linux-procfs.noarch\npython-perf.x86_64\nqemu-guest-agent.x86_64\nreadline.x86_64\nrpm.x86_64\nrpm-build-libs.x86_64\nrpm-libs.x86_64\nrpm-python.x86_64\nrsyslog.x86_64\nselinux-policy.noarch\nselinux-policy-targeted.noarch\nshadow-utils.x86_64\nsudo.x86_64\nsystemd.x86_64\nsystemd-libs.x86_64\nsystemd-sysv.x86_64\nteamd.x86_64\ntuned.noarch\ntzdata.noarch\nutil-linux.x86_64\nvim-minimal.x86_64\nxfsprogs.x86_64\nyum.noarch\nyum-plugin-fastestmirror.noarch\nyum-utils.noarch"
}
ok: [192.168.122.8] => {
    "msg": "Found 162 packages to be updated:\n\nGeoIP.x86_64\nNetworkManager.x86_64\nNetworkManager-libnm.x86_64\nNetworkManager-team.x86_64\nNetworkManager-tui.x86_64\nNetworkManager-wifi.x86_64\nalsa-lib.x86_64\naudit.x86_64\naudit-libs.x86_64\nbash.x86_64\nbind-libs-lite.x86_64\nbind-license.noarch\nbinutils.x86_64\nbiosdevname.x86_64\ncentos-release.x86_64\nchrony.x86_64\ncoreutils.x86_64\ncronie.x86_64\ncronie-anacron.x86_64\ncryptsetup-libs.x86_64\ncurl.x86_64\ndevice-mapper.x86_64\ndevice-mapper-event.x86_64\ndevice-mapper-event-libs.x86_64\ndevice-mapper-libs.x86_64\ndevice-mapper-persistent-data.x86_64\ndhclient.x86_64\ndhcp-common.x86_64\ndhcp-libs.x86_64\ndiffutils.x86_64\ndmidecode.x86_64\ndracut.x86_64\ndracut-config-rescue.x86_64\ndracut-network.x86_64\ne2fsprogs.x86_64\ne2fsprogs-libs.x86_64\nelfutils-default-yama-scope.noarch\nelfutils-libelf.x86_64\nelfutils-libs.x86_64\nethtool.x86_64\nfirewalld.noarch\nfirewalld-filesystem.noarch\nfreetype.x86_64\nglib2.x86_64\nglibc.x86_64\nglibc-common.x86_64\ngrub2.x86_64\ngrub2-common.noarch\ngrub2-pc.x86_64\ngrub2-pc-modules.noarch\ngrub2-tools.x86_64\ngrub2-tools-extra.x86_64\ngrub2-tools-minimal.x86_64\ngrubby.x86_64\nhwdata.x86_64\ninitscripts.x86_64\niproute.x86_64\niprutils.x86_64\nipset.x86_64\nipset-libs.x86_64\niptables.x86_64\nirqbalance.x86_64\niwl100-firmware.noarch\niwl1000-firmware.noarch\niwl105-firmware.noarch\niwl135-firmware.noarch\niwl2000-firmware.noarch\niwl2030-firmware.noarch\niwl3160-firmware.noarch\niwl3945-firmware.noarch\niwl4965-firmware.noarch\niwl5000-firmware.noarch\niwl5150-firmware.noarch\niwl6000-firmware.noarch\niwl6000g2a-firmware.noarch\niwl6000g2b-firmware.noarch\niwl6050-firmware.noarch\niwl7260-firmware.noarch\niwl7265-firmware.noarch\nkernel.x86_64\nkernel-tools.x86_64\nkernel-tools-libs.x86_64\nkexec-tools.x86_64\nkmod.x86_64\nkmod-libs.x86_64\nkpartx.x86_64\nkrb5-libs.x86_64\nlibblkid.x86_64\nlibcap.x86_64\nlibcom_err.x86_64\nlibcurl.x86_64\nlibdb.x86_64\nlibdb-utils.x86_64\nlibdrm.x86_64\nlibgcc.x86_64\nlibgomp.x86_64\nlibmount.x86_64\nlibndp.x86_64\nlibsmartcols.x86_64\nlibss.x86_64\nlibssh2.x86_64\nlibstdc++.x86_64\nlibteam.x86_64\nlibuuid.x86_64\nlinux-firmware.noarch\nlvm2.x86_64\nlvm2-libs.x86_64\nlz4.x86_64\nmake.x86_64\nmariadb-libs.x86_64\nmicrocode_ctl.x86_64\nnspr.x86_64\nnss.x86_64\nnss-pem.x86_64\nnss-softokn.x86_64\nnss-softokn-freebl.x86_64\nnss-sysinit.x86_64\nnss-tools.x86_64\nnss-util.x86_64\nnumactl-libs.x86_64\nopenssh.x86_64\nopenssh-clients.x86_64\nopenssh-server.x86_64\nopenssl.x86_64\nopenssl-libs.x86_64\nparted.x86_64\npasswd.x86_64\nplymouth.x86_64\nplymouth-core-libs.x86_64\nplymouth-scripts.x86_64\npolicycoreutils.x86_64\npolkit.x86_64\nprocps-ng.x86_64\npython.x86_64\npython-chardet.noarch\npython-firewall.noarch\npython-libs.x86_64\npython-linux-procfs.noarch\npython-perf.x86_64\nqemu-guest-agent.x86_64\nreadline.x86_64\nrpm.x86_64\nrpm-build-libs.x86_64\nrpm-libs.x86_64\nrpm-python.x86_64\nrsyslog.x86_64\nselinux-policy.noarch\nselinux-policy-targeted.noarch\nshadow-utils.x86_64\nsudo.x86_64\nsystemd.x86_64\nsystemd-libs.x86_64\nsystemd-sysv.x86_64\nteamd.x86_64\ntuned.noarch\ntzdata.noarch\nutil-linux.x86_64\nvim-minimal.x86_64\nxfsprogs.x86_64\nyum.noarch\nyum-plugin-fastestmirror.noarch\nyum-utils.noarch"
}
ok: [192.168.122.118] => {
    "msg": "Found 162 packages to be updated:\n\nGeoIP.x86_64\nNetworkManager.x86_64\nNetworkManager-libnm.x86_64\nNetworkManager-team.x86_64\nNetworkManager-tui.x86_64\nNetworkManager-wifi.x86_64\nalsa-lib.x86_64\naudit.x86_64\naudit-libs.x86_64\nbash.x86_64\nbind-libs-lite.x86_64\nbind-license.noarch\nbinutils.x86_64\nbiosdevname.x86_64\ncentos-release.x86_64\nchrony.x86_64\ncoreutils.x86_64\ncronie.x86_64\ncronie-anacron.x86_64\ncryptsetup-libs.x86_64\ncurl.x86_64\ndevice-mapper.x86_64\ndevice-mapper-event.x86_64\ndevice-mapper-event-libs.x86_64\ndevice-mapper-libs.x86_64\ndevice-mapper-persistent-data.x86_64\ndhclient.x86_64\ndhcp-common.x86_64\ndhcp-libs.x86_64\ndiffutils.x86_64\ndmidecode.x86_64\ndracut.x86_64\ndracut-config-rescue.x86_64\ndracut-network.x86_64\ne2fsprogs.x86_64\ne2fsprogs-libs.x86_64\nelfutils-default-yama-scope.noarch\nelfutils-libelf.x86_64\nelfutils-libs.x86_64\nethtool.x86_64\nfirewalld.noarch\nfirewalld-filesystem.noarch\nfreetype.x86_64\nglib2.x86_64\nglibc.x86_64\nglibc-common.x86_64\ngrub2.x86_64\ngrub2-common.noarch\ngrub2-pc.x86_64\ngrub2-pc-modules.noarch\ngrub2-tools.x86_64\ngrub2-tools-extra.x86_64\ngrub2-tools-minimal.x86_64\ngrubby.x86_64\nhwdata.x86_64\ninitscripts.x86_64\niproute.x86_64\niprutils.x86_64\nipset.x86_64\nipset-libs.x86_64\niptables.x86_64\nirqbalance.x86_64\niwl100-firmware.noarch\niwl1000-firmware.noarch\niwl105-firmware.noarch\niwl135-firmware.noarch\niwl2000-firmware.noarch\niwl2030-firmware.noarch\niwl3160-firmware.noarch\niwl3945-firmware.noarch\niwl4965-firmware.noarch\niwl5000-firmware.noarch\niwl5150-firmware.noarch\niwl6000-firmware.noarch\niwl6000g2a-firmware.noarch\niwl6000g2b-firmware.noarch\niwl6050-firmware.noarch\niwl7260-firmware.noarch\niwl7265-firmware.noarch\nkernel.x86_64\nkernel-tools.x86_64\nkernel-tools-libs.x86_64\nkexec-tools.x86_64\nkmod.x86_64\nkmod-libs.x86_64\nkpartx.x86_64\nkrb5-libs.x86_64\nlibblkid.x86_64\nlibcap.x86_64\nlibcom_err.x86_64\nlibcurl.x86_64\nlibdb.x86_64\nlibdb-utils.x86_64\nlibdrm.x86_64\nlibgcc.x86_64\nlibgomp.x86_64\nlibmount.x86_64\nlibndp.x86_64\nlibsmartcols.x86_64\nlibss.x86_64\nlibssh2.x86_64\nlibstdc++.x86_64\nlibteam.x86_64\nlibuuid.x86_64\nlinux-firmware.noarch\nlvm2.x86_64\nlvm2-libs.x86_64\nlz4.x86_64\nmake.x86_64\nmariadb-libs.x86_64\nmicrocode_ctl.x86_64\nnspr.x86_64\nnss.x86_64\nnss-pem.x86_64\nnss-softokn.x86_64\nnss-softokn-freebl.x86_64\nnss-sysinit.x86_64\nnss-tools.x86_64\nnss-util.x86_64\nnumactl-libs.x86_64\nopenssh.x86_64\nopenssh-clients.x86_64\nopenssh-server.x86_64\nopenssl.x86_64\nopenssl-libs.x86_64\nparted.x86_64\npasswd.x86_64\nplymouth.x86_64\nplymouth-core-libs.x86_64\nplymouth-scripts.x86_64\npolicycoreutils.x86_64\npolkit.x86_64\nprocps-ng.x86_64\npython.x86_64\npython-chardet.noarch\npython-firewall.noarch\npython-libs.x86_64\npython-linux-procfs.noarch\npython-perf.x86_64\nqemu-guest-agent.x86_64\nreadline.x86_64\nrpm.x86_64\nrpm-build-libs.x86_64\nrpm-libs.x86_64\nrpm-python.x86_64\nrsyslog.x86_64\nselinux-policy.noarch\nselinux-policy-targeted.noarch\nshadow-utils.x86_64\nsudo.x86_64\nsystemd.x86_64\nsystemd-libs.x86_64\nsystemd-sysv.x86_64\nteamd.x86_64\ntuned.noarch\ntzdata.noarch\nutil-linux.x86_64\nvim-minimal.x86_64\nxfsprogs.x86_64\nyum.noarch\nyum-plugin-fastestmirror.noarch\nyum-utils.noarch"
}
ok: [192.168.122.6] => {
    "msg": "Found 162 packages to be updated:\n\nGeoIP.x86_64\nNetworkManager.x86_64\nNetworkManager-libnm.x86_64\nNetworkManager-team.x86_64\nNetworkManager-tui.x86_64\nNetworkManager-wifi.x86_64\nalsa-lib.x86_64\naudit.x86_64\naudit-libs.x86_64\nbash.x86_64\nbind-libs-lite.x86_64\nbind-license.noarch\nbinutils.x86_64\nbiosdevname.x86_64\ncentos-release.x86_64\nchrony.x86_64\ncoreutils.x86_64\ncronie.x86_64\ncronie-anacron.x86_64\ncryptsetup-libs.x86_64\ncurl.x86_64\ndevice-mapper.x86_64\ndevice-mapper-event.x86_64\ndevice-mapper-event-libs.x86_64\ndevice-mapper-libs.x86_64\ndevice-mapper-persistent-data.x86_64\ndhclient.x86_64\ndhcp-common.x86_64\ndhcp-libs.x86_64\ndiffutils.x86_64\ndmidecode.x86_64\ndracut.x86_64\ndracut-config-rescue.x86_64\ndracut-network.x86_64\ne2fsprogs.x86_64\ne2fsprogs-libs.x86_64\nelfutils-default-yama-scope.noarch\nelfutils-libelf.x86_64\nelfutils-libs.x86_64\nethtool.x86_64\nfirewalld.noarch\nfirewalld-filesystem.noarch\nfreetype.x86_64\nglib2.x86_64\nglibc.x86_64\nglibc-common.x86_64\ngrub2.x86_64\ngrub2-common.noarch\ngrub2-pc.x86_64\ngrub2-pc-modules.noarch\ngrub2-tools.x86_64\ngrub2-tools-extra.x86_64\ngrub2-tools-minimal.x86_64\ngrubby.x86_64\nhwdata.x86_64\ninitscripts.x86_64\niproute.x86_64\niprutils.x86_64\nipset.x86_64\nipset-libs.x86_64\niptables.x86_64\nirqbalance.x86_64\niwl100-firmware.noarch\niwl1000-firmware.noarch\niwl105-firmware.noarch\niwl135-firmware.noarch\niwl2000-firmware.noarch\niwl2030-firmware.noarch\niwl3160-firmware.noarch\niwl3945-firmware.noarch\niwl4965-firmware.noarch\niwl5000-firmware.noarch\niwl5150-firmware.noarch\niwl6000-firmware.noarch\niwl6000g2a-firmware.noarch\niwl6000g2b-firmware.noarch\niwl6050-firmware.noarch\niwl7260-firmware.noarch\niwl7265-firmware.noarch\nkernel.x86_64\nkernel-tools.x86_64\nkernel-tools-libs.x86_64\nkexec-tools.x86_64\nkmod.x86_64\nkmod-libs.x86_64\nkpartx.x86_64\nkrb5-libs.x86_64\nlibblkid.x86_64\nlibcap.x86_64\nlibcom_err.x86_64\nlibcurl.x86_64\nlibdb.x86_64\nlibdb-utils.x86_64\nlibdrm.x86_64\nlibgcc.x86_64\nlibgomp.x86_64\nlibmount.x86_64\nlibndp.x86_64\nlibsmartcols.x86_64\nlibss.x86_64\nlibssh2.x86_64\nlibstdc++.x86_64\nlibteam.x86_64\nlibuuid.x86_64\nlinux-firmware.noarch\nlvm2.x86_64\nlvm2-libs.x86_64\nlz4.x86_64\nmake.x86_64\nmariadb-libs.x86_64\nmicrocode_ctl.x86_64\nnspr.x86_64\nnss.x86_64\nnss-pem.x86_64\nnss-softokn.x86_64\nnss-softokn-freebl.x86_64\nnss-sysinit.x86_64\nnss-tools.x86_64\nnss-util.x86_64\nnumactl-libs.x86_64\nopenssh.x86_64\nopenssh-clients.x86_64\nopenssh-server.x86_64\nopenssl.x86_64\nopenssl-libs.x86_64\nparted.x86_64\npasswd.x86_64\nplymouth.x86_64\nplymouth-core-libs.x86_64\nplymouth-scripts.x86_64\npolicycoreutils.x86_64\npolkit.x86_64\nprocps-ng.x86_64\npython.x86_64\npython-chardet.noarch\npython-firewall.noarch\npython-libs.x86_64\npython-linux-procfs.noarch\npython-perf.x86_64\nqemu-guest-agent.x86_64\nreadline.x86_64\nrpm.x86_64\nrpm-build-libs.x86_64\nrpm-libs.x86_64\nrpm-python.x86_64\nrsyslog.x86_64\nselinux-policy.noarch\nselinux-policy-targeted.noarch\nshadow-utils.x86_64\nsudo.x86_64\nsystemd.x86_64\nsystemd-libs.x86_64\nsystemd-sysv.x86_64\nteamd.x86_64\ntuned.noarch\ntzdata.noarch\nutil-linux.x86_64\nvim-minimal.x86_64\nxfsprogs.x86_64\nyum.noarch\nyum-plugin-fastestmirror.noarch\nyum-utils.noarch"
}

TASK [update : Instalando atualizacoes via YUM] **************************************************************************************************************
changed: [192.168.122.118]
changed: [192.168.122.6]
changed: [192.168.122.207]
changed: [192.168.122.8]

TASK [update : Instalando o yum-utils] ***********************************************************************************************************************
ok: [192.168.122.207]
ok: [192.168.122.8]
ok: [192.168.122.6]
ok: [192.168.122.118]

TASK [update : Verificando se precisa de reboot] *************************************************************************************************************
ok: [192.168.122.207]
ok: [192.168.122.8]
ok: [192.168.122.6]
ok: [192.168.122.118]

TASK [update : O reboot do servidor eh necessario para aplicar as atualizacoes] ******************************************************************************
ok: [192.168.122.6]
ok: [192.168.122.8]
ok: [192.168.122.207]
ok: [192.168.122.118]

TASK [update : Aguardando o retorno do servidor apos o reboot] ***********************************************************************************************
ok: [192.168.122.8]
ok: [192.168.122.118]
ok: [192.168.122.207]
ok: [192.168.122.6]

TASK [update : Iniciando o reboot] ***************************************************************************************************************************
ok: [192.168.122.207] => {
    "msg": "The system rebooted in 28 seconds."
}
ok: [192.168.122.8] => {
    "msg": "The system rebooted in 28 seconds."
}
ok: [192.168.122.118] => {
    "msg": "The system rebooted in 28 seconds."
}
ok: [192.168.122.6] => {
    "msg": "The system rebooted in 28 seconds."
}

PLAY RECAP ***************************************************************************************************************************************************
192.168.122.118            : ok=9    changed=2    unreachable=0    failed=0   
192.168.122.207            : ok=9    changed=2    unreachable=0    failed=0   
192.168.122.6              : ok=9    changed=2    unreachable=0    failed=0   
192.168.122.8              : ok=9    changed=2    unreachable=0    failed=0   


[julio.mauro@nb-corp - ~/Dropbox/GIT/juliomauro/CentosJM-ansible @02:01:16] 
